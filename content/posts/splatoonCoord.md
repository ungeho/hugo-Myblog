+++
title = 'FF14の座標の計算方法と豆知識'
date = 2024-01-27T03:15:32+09:00
draft = false
categories = ["game"]
tags = ["ffxiv","splatoon","waymark"]
+++

`splatoon`や`waymarkPreset`プラグインのlayout作成に便利な式と豆知識

### splatoonのlayout作成のTips

設定を行う場合は`A realm Recorded`を使うと楽

`/splatoon`->`ツール`->`ロガー`から、`ロガーを有効にする`と`viewer mode`にチェックを入れるとオブジェクトを確認出来る。

`/splatoon`->`ツール`->`エクスプローラー`から`VFX Path`等を確認出来る。

`/splatoon`->`ツール`->`ログ`から`cast id`等を確認出来る。

### FF14の座標の計算

#### 座標の指定

以下のコードブロックから式をコピーして、必要な変数を書き換えて使用します。

大抵の場合はこれで事足りる。

* $x$座標  

```
CX+R*cos(Ang*π/180)
```

$$
\displaystyle x = c_x + r \times \cos \left( \frac{ Ang * \Pi}{180} \right)
$$

$c_x=$ 中心の$x$座標  
$r=$長さ（半径）  
$Ang=$角度  

*  $y$座標  
```
CY-R*sin(Ang*π/180)
```
$$
\displaystyle y = c_y - r \times \sin \left( \frac{ Ang * \Pi}{180} \right)
$$


$c_y=$中心の$y$座標  
$r=$長さ（半径）  
$Ang=$角度  

中心の$x$,$y$座標は、マップの中心の座標対象、あるいは対象となるモンスターやプレイヤーから任意にずらした座標の分を設定する事が多いです。  
Y座標は、中心の座標から設定  
また、多くの場合は中心の座標は(100,100)、稀に(0,0)やその他、Y座標が違う場合がある。  
再生4層零式、煉獄1層零式など、ノーマルで特別な演出があったフィールドは特殊な座標になりやすい。

例として、マップの中心座標が$x=100$、$y=100$で角度45度に10m進んだ先に円を描きたい場合の$x$座標と$y$座標は

* $x$座標

```
100+10*cos(45*π/180)
```

* $y$座標

```
100-10*sin(45*π/180)
```

#### 2点間の距離

ノックバック距離の計算に使う。

#### 内分

特殊な散開などに使う。

#### 散開に必要な距離

8人が散開する時に、敵のタゲサ上で散開してAoEが重なるかを計算する事も出来る。

(Dist <= AoER )の場合AoEが重なる  
(Dist >  AoER )の場合AoEが重ならない

AoER = 円形AoEの半径

Distは以下の式

```
Dist=sqrt( (R*cos(45π/180)-R*cos(90π/180))^2  + ((R*sin(45π/180))-(R*sin(90π/180)))^2 )
```

R = 散開する距離、半径（m）、タゲサ上で散開出来るかを確認した場合は敵のHitBoxR

#### 移動速度

| 通常 | スプリント | マウント |
| :---: | :---: | :---: |
| 約6m/sec | 約8m/sec | 約20m/sec |